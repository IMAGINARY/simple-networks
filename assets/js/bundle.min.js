!function r(u,s,c){function o(t,e){if(!s[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var a=s[t]={exports:{}};u[t][0].call(a.exports,function(e){return o(u[t][1][e]||e)},a,a.exports,r,u,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)o(c[e]);return o}({1:[function(e,t,n){"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.updateDynamicVariables=function updateDynamicVariables(){r++},n.getCurrentComputeTime=function getCurrentComputeTime(){return r},n.DynamicVariable=void 0;var r=0;var i=function(){function DynamicVariable(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DynamicVariable),this.value=e,this.time=-1}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(DynamicVariable,[{key:"update",value:function update(e){return this.time==r||(this.value=e(),this.time=r),this.value}}]),DynamicVariable}();n.DynamicVariable=i},{}],2:[function(e,t,n){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var u=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(e("d3")),s=e("./constants.js"),r=e("./DynamicVariable.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){var n=[(1-t)*e[0]+t*e[1],(1-t)*e[1]+t*e[2],(1-t)*e[2]+t*e[3]],r=[(1-t)*n[0]+t*n[1],(1-t)*n[1]+t*n[2]],i=[(1-t)*r[0]+t*r[1]];return[[e[0],n[0],r[0],i[0]],[i[0],r[1],n[2],e[3]]]}function M(e,t){var n=L(e.map(function(e){return e[0]}),t),r=L(e.map(function(e){return e[1]}),t);return[[[n[0][0],r[0][0]],[n[0][1],r[0][1]],[n[0][2],r[0][2]],[n[0][3],r[0][3]]],[[n[1][0],r[1][0]],[n[1][1],r[1][1]],[n[1][2],r[1][2]],[n[1][3],r[1][3]]]]}var i=function(){function Edge(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Edge),this.from=e,this.to=t,this.weight=n,this.dloss=0,this.dweight=new r.DynamicVariable,this.adjustable=!0,this.multvis0=1/3,this.multvis1=2/3}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Edge,[{key:"bezier",value:function bezier(){var e=this,t=e.from.x+("InputNode"==e.from.constructor.name?s.noderadius:0),n=e.to.x-("OutputNode"==e.to.constructor.name?s.noderadius:0);return[[t,e.from.y],[(t+n)/2,e.from.y],[(t+n)/2,e.to.y-s.unit*e.offset],[n,e.to.y-s.unit*e.offset]]}},{key:"generateActivatedCubicBezierSplines",value:function generateActivatedCubicBezierSplines(){var e=this.bezier(),t=M(e,this.multvis0),n=M(t[1],(this.multvis1-this.multvis0)/(1-this.multvis0));return[t[0],n[0],n[1]]}},{key:"generateActivatedPath",value:function generateActivatedPath(e){var t,n,r,i=e*this.weight,o=_slicedToArray(this.generateActivatedCubicBezierSplines(e),3);t=o[0],n=o[1],r=o[2];var a=u.path();return a.moveTo(t[0][0],t[0][1]-s.unit*e),a.bezierCurveTo(t[1][0],t[1][1]-s.unit*e,t[2][0],t[2][1]-s.unit*e,t[3][0],t[3][1]-s.unit*e),a.bezierCurveTo(n[1][0],n[1][1]-s.unit*e,n[2][0],n[2][1]-s.unit*i,n[3][0],n[3][1]-s.unit*i),a.bezierCurveTo(r[1][0],r[1][1]-s.unit*i,r[2][0],r[2][1]-s.unit*i,r[3][0],r[3][1]-s.unit*i),a}},{key:"generateActivatedPathMiddle",value:function generateActivatedPathMiddle(e){var t=e*this.weight,n=this.generateActivatedCubicBezierSplines(e)[1],r=u.path();return r.moveTo(n[0][0],n[0][1]-s.unit*e),r.bezierCurveTo(n[1][0],n[1][1]-s.unit*e,n[2][0],n[2][1]-s.unit*t,n[3][0],n[3][1]-s.unit*t),r}},{key:"normalizedParameterPosition",value:function normalizedParameterPosition(){return[(this.from.x+this.to.x)/2,this.firstHalfBezier()[3][1]-s.unit*this.weight]}},{key:"parameterPosition",value:function parameterPosition(){var e=this.from.getActivation();Math.abs(e)<s.parameterths&&(e=(this.from.getActivation()<0?-1:1)*s.parameterths);var t=this.generateActivatedCubicBezierSplines(e)[1],n=e*this.weight;return[t[3][0],t[3][1]-s.unit*n]}},{key:"getdWeight",value:function getdWeight(){var e=this;return this.dweight.update(function(){return e.to.active()?e.from.getActivation()*e.to.getdActivation():0})}},{key:"backup",value:function backup(){this.backupWeight=this.weight}},{key:"restore",value:function restore(){this.weight=this.backupWeight}}]),Edge}();n.Edge=i},{"./DynamicVariable.js":1,"./constants.js":10,d3:"d3"}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InputNode=void 0;var r=e("./Node.js"),i=e("./DynamicVariable.js");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,e)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(InputNode,r.Node);var n=_createSuper(InputNode);function InputNode(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return 0};return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InputNode),(e=n.call(this)).getActivation=t,e.adjustable=!1,e.allownegative=!0,e}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(InputNode,[{key:"setUserParameter",value:function setUserParameter(e){var t=this;this.hasOwnProperty("userparamter")||(this.getActivation=function(){return t.userparamter}),this.allownegative||(e=Math.max(0,e)),this.userparamter=e,(0,i.updateDynamicVariables)()}},{key:"temporarilyReplaceGetActivation",value:function temporarilyReplaceGetActivation(e){this.getActivationBackup=this.getActivation,this.getActivation=e,(0,i.updateDynamicVariables)()}},{key:"restoreGetActivation",value:function restoreGetActivation(){this.getActivation=this.getActivationBackup,(0,i.updateDynamicVariables)()}},{key:"pauseInput",value:function pauseInput(){this.setUserParameter(this.getActivation())}}]),InputNode}();n.InputNode=o},{"./DynamicVariable.js":1,"./Node.js":8}],4:[function(e,t,n){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Level=void 0;var a=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(e("d3")),r=e("./NetworkVisualization.js");e("./constants.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function Level(e,t,n,r,i,o,a){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Level),this.title=e||"",this.network=t,this.trainXs=r,this.trainYs=o,this.xlabels=n,this.ylabels=i,this.description=a||"",this.gradientdescentactive=!1,this.network.backup()}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Level,[{key:"show",value:function show(){var e=this;this.createUI(),this.t0=Date.now();var t=this.nv=new r.NetworkVisualization(this.network,function(){return e.animatecallback()});t.animate(),t.addInteraction(),t.resizeSVG(120),this.onenter&&this.onenter()}},{key:"hide",value:function hide(){this.nv&&this.nv.stop(),this.table&&this.table.html(""),this.onleave&&this.onleave(),a.select("#levelinfo").html("")}},{key:"createUI",value:function createUI(){var e=this;document.querySelector(".helper").classList.remove("visible"),document.querySelector(".mission").classList.add("visible"),document.querySelector("#helpmebutton").classList.remove("selected"),document.querySelector("#missionbutton").classList.add("selected"),a.select("#leveltitle").text(this.title),a.select("#description").text(this.description),this.createTable(),document.querySelector(".reset").onclick=function(){e.network.restore()},document.querySelector(".single-step").onclick=function(){e.gradientdescentactive=!1,e.network.gradientstep(e.trainXs,e.trainYs,.01)},document.querySelector(".pause-resume").onclick=function(){e.gradientdescentactive=!e.gradientdescentactive}}},{key:"createTable",value:function createTable(){var n=this;this.columns=this.xlabels.concat(this.ylabels).concat(this.ylabels.map(function(e){return e+" (vorausgesagt)"})),this.table=a.select("#trainingtable"),this.thead=this.table.append("thead"),this.tbody=this.table.append("tbody"),this.thead.append("tr").selectAll("th").data(this.columns).enter().append("th").style("background-color",function(e,t){return t>=n.xlabels.length?"orange":"yellow"}).text(function(e){return e})}},{key:"animatecallback",value:function animatecallback(){if(this.animatestep&&this.animatestep(),this.gradientdescentactive)for(var e=0;e<10;e++)this.network.gradientstep(this.trainXs,this.trainYs,.001);this.updateUI()}},{key:"updateUI",value:function updateUI(){this.gradientdescentactive&&a.select("#gradientanimating")?(document.querySelector(".pause-resume").classList.add("pause"),document.querySelector(".pause-resume").classList.remove("resume")):(document.querySelector(".pause-resume").classList.remove("pause"),document.querySelector(".pause-resume").classList.add("resume")),this.updatetable();var e=this.network.loss(this.trainXs,this.trainYs);a.select("#totalerror").text(e.toFixed(2)),a.select("#nextbutton").classed("disable",.02<e),a.select(".tabbed").classed("successful",e<.02),a.select("#totalerrorterm").text(this.rows.map(function(e){return"(".concat(e[e.length-1]," - ").concat(e[e.length-2],")²")}).join(" + ")),document.querySelector("#showgradient").checked?this.network.gradientLoss(this.trainXs,this.trainYs):this.network.resetdloss()}},{key:"updatetable",value:function updatetable(){var i=this,e=this.tbody,t=[];for(var n in this.rows=t,this.trainXs){var r=this.trainXs[n].map(function(e,t){return i.network.inputnodes[t].format(e)}).concat(this.trainYs[n].map(function(e,t){return i.network.outputnodes[t].format(e)})).concat(this.network.predict(this.trainXs[n]).map(function(e,t){return i.network.outputnodes[t].format(e)}));r.error=this.network.sqerror(this.trainXs[n],this.trainYs[n]),t.push(r)}var o=a.scaleSequential().domain([1,0]).interpolator(a.interpolateRdYlGn);e.selectAll("tr").data(t).join("tr").on("click",function(e,t){for(var n in i.network.inputnodes)i.network.inputnodes[n].setUserParameter(i.trainXs[t][n]);for(var r in i.network.outputnodes)i.network.outputnodes[r].target=i.trainYs[t][r]}).selectAll("td").data(function(t){return t.map(function(e){return{value:e,error:t.error}})}).join("td").text(function(e){return e.value}).style("background-color",function(e,t){return t>=i.trainXs[0].length+i.trainYs[0].length?o(e.error):"white"})}}]),Level}();n.Level=i},{"./NetworkVisualization.js":7,"./constants.js":10,d3:"d3"}],5:[function(e,t,n){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.LevelController=void 0;var r=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(e("d3")),i=e("./levels.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function LevelController(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelController),this.createEvents(),this.levels=[function(){return new i.TutorialLevelA},function(){return new i.SumLevel},function(){return new i.AvgLevel},function(){return new i.TutorialLevelB},function(){return new i.TutorialLevelC},function(){return new i.FahrenheitLevel},function(){return new i.AndLevel},function(){return new i.MaxLevel},function(){return new i.WeatherLevel},function(){return new i.XorLevel}],this.NUMBER_OF_LEVELS=this.levels.length,this.updateFooter(0)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(LevelController,[{key:"updateFooter",value:function updateFooter(n){r.select("#navcircles").selectAll("a").data(this.levels).join("a").attr("href",function(e,t){return"index.html#".concat(t+1)}).classed("circ",!0).classed("selected",function(e,t){return t==n}),r.select("#backbutton").style("visibility",0==n?"hidden":"visible"),r.select("#nextbutton").style("visibility",n==this.NUMBER_OF_LEVELS-1?"hidden":"visible")}},{key:"createEvents",value:function createEvents(){var t=this;window.addEventListener("DOMContentLoaded",function(e){document.querySelector("#backbutton").onclick=function(){return t.goBack()},document.querySelector("#nextbutton").onclick=function(){document.querySelector("#nextbutton").classList.contains("disable")||t.goNext()},t.showLevelByURL()}),window.onhashchange=function(e){t.showLevelByURL()},window.addEventListener("keydown",function(e){e.key;switch(e.key){case"ArrowLeft":t.goBack();break;case"ArrowRight":t.goNext()}})}},{key:"goNext",value:function goNext(){this.setLevel((this.getCurrentLevel()+1)%this.NUMBER_OF_LEVELS)}},{key:"goBack",value:function goBack(){this.setLevel((this.getCurrentLevel()-1+this.NUMBER_OF_LEVELS)%this.NUMBER_OF_LEVELS)}},{key:"getCurrentLevel",value:function getCurrentLevel(){var e=window.location.hash.substring(1);return""===e?e=1:e|=0,e-1}},{key:"setLevel",value:function setLevel(e){window.location.hash=e+1}},{key:"showLevelByURL",value:function showLevelByURL(){this.showLevel(this.getCurrentLevel())}},{key:"showLevel",value:function showLevel(e){this.updateFooter(e),this.clevel&&this.clevel.hide(),r.select("#leveltitleprefix").text("Level ".concat(e+1,": ")),this.clevel=this.levels[e](),this.clevel.show()}}]),LevelController}();n.LevelController=o},{"./levels.js":11,d3:"d3"}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Network=void 0;var v=e("./DynamicVariable.js");function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function Network(e,t,n){for(var r in!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Network),this.nodes=e,this.inputnodes=t,this.outputnodes=n,this.edges=[],e)for(var i in e[r].outedges)this.edges.push(e[r].outedges[i])}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Network,[{key:"predict",value:function predict(t){var n=this;this.inputnodes.length!=t.length&&console.error("Input does not fit input size of Network");function qe(e){n.inputnodes[e].temporarilyReplaceGetActivation(function(){return t[e]})}for(var e in this.inputnodes)qe(e);(0,v.updateDynamicVariables)();var r=this.outputnodes.map(function(e){return e.getActivation()});for(var i in this.inputnodes)this.inputnodes[i].restoreGetActivation();return r}},{key:"sqerror",value:function sqerror(e,t){var n=this.predict(e),r=0;for(var i in n)r+=(n[i]-t[i])*(n[i]-t[i]);return r}},{key:"loss",value:function loss(e,t){var n=0;for(var r in e)n+=this.sqerror(e[r],t[r]);return n}},{key:"resetdloss",value:function resetdloss(){for(var e in this.nodes)this.nodes[e].dloss=0;for(var t in this.edges)this.edges[t].dloss=0}},{key:"gradientLoss",value:function gradientLoss(d,f){var p=this,h=0;this.resetdloss();function Le(e){function Qe(e){p.inputnodes[e].temporarilyReplaceGetActivation(function(){return t[e]})}var t=d[e],n=f[e];for(var r in p.inputnodes)Qe(r);(0,v.updateDynamicVariables)();var i=p.outputnodes.map(function(e){return e.getActivation()});for(var o in i)h+=(i[o]-n[o])*(i[o]-n[o]);function Ue(e){p.outputnodes[e].temporarilyReplaceGetdActivation(function(){return 2*(i[e]-n[e])})}for(var a in p.outputnodes)Ue(a);for(var u in(0,v.updateDynamicVariables)(),p.nodes)p.nodes[u].dloss+=p.nodes[u].getdBias();for(var s in p.edges)p.edges[s].dloss+=p.edges[s].getdWeight();for(var c in p.inputnodes)p.inputnodes[c].restoreGetActivation();for(var l in p.outputnodes)p.outputnodes[l].restoreGetdActivation()}for(var e in d)Le(e);return h}},{key:"gradientstep",value:function gradientstep(e,t,n){for(var r in this.gradientLoss(e,t),this.nodes)"Node"==this.nodes[r].constructor.name&&this.nodes[r].adjustable&&(this.nodes[r].bias-=n*this.nodes[r].dloss);for(var i in this.edges)this.edges[i].adjustable&&(this.edges[i].weight-=n*this.edges[i].dloss);(0,v.updateDynamicVariables)()}},{key:"pauseAnimatedInput",value:function pauseAnimatedInput(){for(var e in this.inputnodes){this.inputnodes[e].pauseInput()}}},{key:"backup",value:function backup(){for(var e in this.nodes)this.nodes[e].backup();for(var t in this.edges)this.edges[t].backup()}},{key:"restore",value:function restore(){for(var e in this.nodes)this.nodes[e].restore();for(var t in this.edges)this.edges[t].restore()}}]),Network}();n.Network=r},{"./DynamicVariable.js":1}],7:[function(e,t,n){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkVisualization=void 0;var s=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(e("d3")),c=e("./constants.js"),l=e("./DynamicVariable.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tf(e,t,n){return Math.min(n,Math.max(t,e))}var r=function(){function NetworkVisualization(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NetworkVisualization);var n=this.nodes=e.nodes;for(var r in this.network=e,this.inputnodes=e.inputnodes,this.outputnodes=e.outputnodes,this.animatecallback=t,this.edges=[],n)for(var i in n[r].outedges)this.edges.push(n[r].outedges[i]);this.edges=this.edges.sort(function(e,t){return t.from.y-e.from.y}),s.select("svg").append("svg:defs").append("svg:marker").attr("id","triangle").attr("refX",6).attr("refY",6).attr("markerWidth",30).attr("markerHeight",30).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 0 0 12 6 0 12 3 6").style("fill","orange")}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(NetworkVisualization,[{key:"stop",value:function stop(){this.animating=!1}},{key:"animate",value:function animate(){this.animating=!0,this.animateloop()}},{key:"resizeSVG",value:function resizeSVG(e){var t=0<arguments.length&&void 0!==e?e:0,n=document.querySelector("svg"),r=n.getBBox();n.setAttribute("viewBox","".concat(r.x-t," ").concat(r.y-t," ").concat(Math.min(1e3,r.width)+2*t," ").concat(Math.min(1e3,r.height)+2*t))}},{key:"animateloop",value:function animateloop(){var e=this;if(this.animating){this.animatecallback&&this.animatecallback();var t=this.nodes,n=this.inputnodes,r=this.outputnodes,i=this.edges;for(var o in(0,l.updateDynamicVariables)(),t)t[o].offset=t[o].bias;for(var a in i){var u=i[a];u.offset=u.to.offset,u.to.offset+=u.from.getActivation()*u.weight}s.select("#nodes").select(".nodes").selectAll("circle").data(t).join("circle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("r",c.noderadius).attr("fill",function(e){return"InputNode"==e.constructor.name?"yellow":"OutputNode"==e.constructor.name?"orange":"black"}).attr("stroke","black").attr("stroke-width",3).attr("fill-opacity",function(e){return"Node"==e.constructor.name?.2:1}),s.select("#parameters").select(".nodes").selectAll("circle").data(t.filter(function(e){return e.adjustable})).join("circle").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y-c.unit*e.bias}).attr("r",15).attr("fill","white").attr("fill-opacity",.5).attr("stroke","black").attr("stroke-width",2).attr("stroke-opacity",.5);s.select("#nodes").select(".gradient").selectAll("path").data(t.filter(function(e){return 0!=e.dloss&&e.adjustable})).join("path").attr("d",function(e){var t=s.path();return t.moveTo(e.x,e.y-c.unit*e.bias),t.lineTo(e.x,e.y-c.unit*(e.bias-tf(.1*e.dloss,-3,3))),t}).attr("marker-end","url(#triangle)").attr("stroke","orange").attr("stroke-width",2).attr("fill","none"),s.select("#edges").select(".gradient").selectAll("path").data(i.filter(function(e){return 0!=e.dloss&&e.adjustable})).join("path").attr("d",function(e){var t=s.path(),n=e.parameterPosition()[0],r=e.parameterPosition()[1];return t.moveTo(n,r),t.lineTo(n,r+c.unit*tf(e.dloss/e.from.getActivation()*.1,-3,3)),t}).attr("marker-end","url(#triangle)").attr("stroke","orange").attr("stroke-width",2).attr("fill","none").style("opacity",function(e){return Math.min(.5,Math.abs(e.from.getActivation()))}),s.select("#parameters").select(".edges").selectAll("circle").data(i.filter(function(e){return e.adjustable})).join("circle").attr("cx",function(e){return e.parameterPosition()[0]}).attr("cy",function(e){return e.parameterPosition()[1]}).attr("r",15).attr("fill",function(e){return 0<e.weight?"blue":"red"}).attr("stroke","black").attr("stroke-width",2).attr("fill-opacity",.5).attr("stroke-opacity",.5),s.select("#input").select(".activations").selectAll("rect").data(n).join("rect").attr("x",function(e){return e.x}).attr("y",function(e){return e.y-Math.max(0,e.getActivation()*c.unit)}).attr("width",c.noderadius).attr("height",function(e){return Math.abs(e.getActivation()*c.unit)}).attr("fill","blue").attr("fill-opacity",.5),s.select("#parameters").select(".input").selectAll("circle").data(n).join("circle").attr("cx",function(e){return e.x+c.noderadius}).attr("cy",function(e){return e.y-c.unit*e.getActivation()}).attr("r",15).attr("fill","yellow").attr("fill-opacity",.6).attr("stroke","black").attr("stroke-width",2).attr("stroke-opacity",.6),s.select("#outputs").select(".flow").selectAll("rect").data(r).join("rect").attr("x",function(e){return e.x-c.noderadius}).attr("y",function(e){return e.y-Math.max(0,e.getActivation()*c.unit)}).attr("width",c.noderadius).attr("height",function(e){return Math.abs(e.getActivation()*c.unit)}).attr("fill","blue").attr("fill-opacity",.5),s.select("#nodes").select(".target").selectAll("text").data(r.filter(function(e){return"number"==typeof e.target})).join("text").attr("font-size",40).attr("text-anchor","left").attr("pointer-events","none").text(function(e){return"Zielwert: "+e.format(e.target)}).attr("x",function(e){return e.x-c.noderadius}).attr("y",function(e){return e.y-c.unit*e.target}).attr("opacity",1).attr("fill",function(e){return e.errorcolor()}),s.select("#nodes").select(".target").selectAll("path").data(r.filter(function(e){return"number"==typeof e.target})).join("path").attr("d",function(e){var t=s.path();return t.moveTo(e.x-10-c.noderadius,e.y-c.unit*e.target),t.lineTo(e.x+c.noderadius,e.y-c.unit*e.target),t}).attr("stroke",function(e){return e.errorcolor()}).attr("stroke-width",4).attr("fill","none"),s.select("#nodes").select(".values").selectAll("text").data(this.network.nodes).join("text").attr("font-size",40).attr("text-anchor","middle").attr("alignment-baseline","hanging").attr("pointer-events","none").text(function(e){return e.format(e.getActivation())}).attr("x",function(e){return e.x}).attr("y",function(e){return e.y-tf(c.unit*e.getActivation(),-30,70)}),s.select("#edges").select(".edges").selectAll("path").data(i).join("path").attr("d",function(e){var t=s.path(),n=e.bezier();return e.from.bias<=0||"InputNode"==e.from.constructor.name?t.moveTo(n[0][0],n[0][1]):(t.moveTo(n[0][0],n[0][1]-c.unit*e.from.bias),t.lineTo(n[0][0],n[0][1])),t.bezierCurveTo(n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]),e.offset<0&&t.lineTo(n[3][0],n[3][1]+c.unit*e.offset),t}).attr("stroke","black").attr("stroke-width",2).attr("fill","none"),s.select("#edges").select(".activations").selectAll("path").data(i).join("path").attr("d",function(e){var t=e.generateActivatedPath(e.from.getActivation()),n=e.bezier();return t.lineTo(n[3][0],n[3][1]),t.bezierCurveTo(n[2][0],n[2][1],n[1][0],n[1][1],n[0][0],n[0][1]),t.closePath(),t}).attr("fill",function(e){return 0<=e.weight?"blue":"red"}).attr("fill-opacity",.5);s.select("#edges").select(".factorlines").selectAll("g").data(i.filter(function(e){return e.adjustable})).join("g").selectAll("path").data(function(e){return Array(Math.abs(e.from.getActivation())>c.parameterths?0:1).fill(e)}).join("path").attr("d",function(e,t){return e.generateActivatedPathMiddle(c.parameterths*(e.from.getActivation()<0?-1:1)*(t+1)/1)}).attr("stroke",function(e){return 0<=e.weight?"blue":"red"}).attr("stroke-width",2).attr("stroke-opacity",.5).attr("fill","none"),requestAnimationFrame(function(){return e.animateloop()})}}},{key:"addInteraction",value:function addInteraction(){this.nodes;var n,r=this,e=s.drag().on("start",function(){s.select(this);this.y0=s.event.y;var e=s.select(this).data()[0];e.adjustable&&(this.v0=e.bias,r.network.pauseAnimatedInput(),n=s.select("#tooltip").append("text")),"InputNode"==e.constructor.name&&(this.v0=e.getActivation(),e.setUserParameter(this.v0))}).on("drag",function(){var e=s.select(this).data()[0];if(e.adjustable&&(e.bias=tf(this.v0-(s.event.y-this.y0)/c.unit,-4,4),n.attr("x",e.x).attr("y",e.y-c.unit*e.bias).text("+ ".concat(e.format(e.bias)))),"InputNode"==e.constructor.name)for(var t in e.setUserParameter(tf(this.v0-(s.event.y-this.y0)/c.unit,-4,4)),r.network.outputnodes)delete r.network.outputnodes[t].target}).on("end",function(){n&&n.remove()});e(s.select("#nodes").selectAll("circle")),e(s.select("#parameters").select(".input").selectAll("circle")),e(s.select("#parameters").select(".nodes").selectAll("circle")),e(s.select("#input").selectAll("rect"));var t=s.drag().on("start",function(){var e=s.select(this).data()[0];if(e.adjustable){s.select(this);this.y0=s.event.y,this.weight0=e.weight,r.network.pauseAnimatedInput(),n=s.select("#tooltip").append("text")}}).on("drag",function(){var e=s.select(this).data()[0];if(e.adjustable){var t=e.from.getActivation();Math.abs(t)<c.parameterths&&(t=(e.from.getActivation()<0?-1:1)*c.parameterths),e.weight=tf(this.weight0-(s.event.y-this.y0)/t/c.unit,-4,4),n.attr("x",e.parameterPosition()[0]).attr("y",e.parameterPosition()[1]).text("× ".concat(e.weight.toFixed(2)))}}).on("end",function(){n&&n.remove()});t(s.select("#edges").selectAll("path, circle")),t(s.select("#parameters").select(".edges").selectAll("circle"))}}]),NetworkVisualization}();n.NetworkVisualization=r},{"./DynamicVariable.js":1,"./constants.js":10,d3:"d3"}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var o=e("./Edge.js"),r=e("./DynamicVariable.js");function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function Node(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Node),this.dactivation=new r.DynamicVariable(0),this.sum=new r.DynamicVariable(0),this.bias=0,this.dloss=0,this.outedges=[],this.inedges=[],this.adjustable=!0}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Node,[{key:"addChild",value:function addChild(e,t,n){var r=!(2<arguments.length&&void 0!==n)||n,i=new o.Edge(this,e,t);this.outedges.push(i),r&&e.inedges.push(i)}},{key:"computeSum",value:function computeSum(){var r=this;return this.sum.update(function(){var e=r.bias;for(var t in r.inedges){var n=r.inedges[t];e+=n.weight*n.from.getActivation()}return e})}},{key:"getActivation",value:function getActivation(){return Math.max(0,this.computeSum())}},{key:"active",value:function active(){return 0<=this.computeSum()}},{key:"getdActivation",value:function getdActivation(){var r=this;return this.dactivation.update(function(){var e=0;for(var t in r.outedges){var n=r.outedges[t];n.to.active()&&(e+=n.weight*n.to.getdActivation())}return e})}},{key:"getdBias",value:function getdBias(){return this.active()?this.getdActivation():0}},{key:"format",value:function format(e){return e.toFixed(1)}},{key:"backup",value:function backup(){this.backupBias=this.bias}},{key:"restore",value:function restore(){this.bias=this.backupBias}}]),Node}();n.Node=i},{"./DynamicVariable.js":1,"./Edge.js":2}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OutputNode=void 0;var r=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(e("d3")),i=e("./Node.js"),o=e("./DynamicVariable.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,e)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(OutputNode,i.Node);var t=_createSuper(OutputNode);function OutputNode(){var e;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutputNode),(e=t.call(this)).bias=0,e.adjustable=!1,e}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(OutputNode,[{key:"getActivation",value:function getActivation(){return this.computeSum()}},{key:"getdActivation",value:function getdActivation(){return 1}},{key:"active",value:function active(){return!0}},{key:"temporarilyReplaceGetdActivation",value:function temporarilyReplaceGetdActivation(e){this.getdActivationBackup=this.getdActivation,this.getdActivation=e,(0,o.updateDynamicVariables)()}},{key:"restoreGetdActivation",value:function restoreGetdActivation(){this.getdActivation=this.getdActivationBackup,(0,o.updateDynamicVariables)()}},{key:"errorcolor",value:function errorcolor(){return r.scaleSequential().domain([1,0]).interpolator(r.interpolateRdYlGn)(Math.abs(this.target-this.getActivation()))}}]),OutputNode}();n.OutputNode=a},{"./DynamicVariable.js":1,"./Node.js":8,d3:"d3"}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noderadius=n.parameterths=n.unit=void 0;n.unit=35;n.parameterths=.3;n.noderadius=80},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AvgLevel=n.XorLevel=n.MaxLevel=n.AndLevel=n.SumLevel=n.FahrenheitLevel=n.WeatherLevel=n.TutorialLevelC=n.TutorialLevelB=n.TutorialLevelA=void 0;var a=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(e("d3")),c=e("./Node.js"),l=e("./InputNode.js"),d=e("./OutputNode.js"),f=e("./Network.js"),r=e("./Level.js"),u=e("./constants.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function _createSuperInternal(){var e,t=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,e)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fj(e,t,n){var r=2<arguments.length&&void 0!==n?n:u.noderadius+30;a.select("#levelinfo").append("text").text(t).attr("pointer-events","none").attr("text-anchor","middle").attr("font-size",20).attr("x",e.x).attr("y",e.y+r)}var i=function(){_inherits(TutorialLevelA,r.Level);var o=_createSuper(TutorialLevelA);function TutorialLevelA(){var e;_classCallCheck(this,TutorialLevelA);var t=1+Math.random(),n=[new l.InputNode(function(){return.5+.5*Math.sin(t*Date.now()/1e3)*Math.exp(-.1*(Date.now()-e.t0)/1e3)}),new d.OutputNode];n[0].x=200,n[0].y=500,n[0].allownegative=!0,n[1].x=800,n[1].y=550,n[0].addChild(n[1],1);function _j(e){return 2*e}var r=[1,2,3],i=r.map(_j);return(e=o.call(this,"Ein einfaches Netz: Verdopple den Input!",new f.Network(n,[n[0]],[n[1]]),["input"],r.map(function(e){return[e]}),["desired output"],i.map(function(e){return[e]}),"Hier siehst du ein einfaches Neuronales Netz. Kannst du das Netz so einstellen, dass sich der Input verdoppelt, d.h. der Output soll den doppelten Input-Wert ergeben?")).animatestep=function(){n[1].target=_j(n[0].getActivation())},e.onenter=function(){fj(n[0],"Hier kannst du den Inputwert verändern."),fj(n[1],"Das Output des Neuronalen Netzes."),a.select("#levelinfo").append("text").text("Stell hier den Multiplikationsfaktor (das “Gewicht”) ein.").attr("pointer-events","none").attr("text-anchor","middle").attr("font-size",20).attr("x",(n[0].x+n[1].x)/2).attr("y",(n[0].y+n[1].y)/2-100),document.querySelector(".trainingdata").classList.remove("visible")},e.onleave=function(){document.querySelector(".trainingdata").classList.add("visible")},e}return TutorialLevelA}();n.TutorialLevelA=i;var o=function(){_inherits(TutorialLevelB,r.Level);var o=_createSuper(TutorialLevelB);function TutorialLevelB(){var e;_classCallCheck(this,TutorialLevelB);var t=1+Math.random(),n=[new l.InputNode(function(){return.5+2*Math.sin(t*Date.now()/1e3)*Math.exp(-.1*(Date.now()-e.t0)/1e3)}),new c.Node,new d.OutputNode];n[0].allownegative=!0,n[0].x=200,n[0].y=500,n[1].x=500,n[1].y=550,n[1].adjustable=!1,n[2].x=800,n[2].y=500,n[0].addChild(n[1],-2),n[1].addChild(n[2],1),n[1].outedges[0].adjustable=!1;function kk(e){return Math.max(0,1*e)}var r=[-2,-1,0,1,2,3],i=r.map(kk);return(e=o.call(this,"Lass nur positive Werte durch das Netz!",new f.Network(n,[n[0]],[n[2]]),["Input"],r.map(function(e){return[e]}),["Output"],i.map(function(e){return[e]}),"Kannst du das Netz so einstellen, dass es positive Inputs oder 0 ausgibt, wenn sein Input negativ ist? Es soll die Daten der Trainingstabelle unten voraussagen.")).animatestep=function(){n[2].target=kk(n[0].getActivation())},e.onenter=function(){fj(n[1],"Die mittleren Neuronen ignoriert negative Inputs.")},e}return TutorialLevelB}();n.TutorialLevelB=o;var s=function(){_inherits(TutorialLevelC,r.Level);var o=_createSuper(TutorialLevelC);function TutorialLevelC(){var e;_classCallCheck(this,TutorialLevelC);var t=1+Math.random(),n=[new l.InputNode(function(){return 1*Math.sin(t*Date.now()/1e3)*Math.exp(-.1*(Date.now()-e.t0)/1e3)-.2}),new c.Node,new d.OutputNode];n[0].allownegative=!0,n[0].x=200,n[0].y=500,n[1].x=500,n[1].y=550,n[1].adjustable=!0,n[2].x=800,n[2].y=500,n[0].addChild(n[1],1),n[1].addChild(n[2],1),n[0].outedges[0].adjustable=!1,n[1].outedges[0].adjustable=!1,n[1].bias=1;function vk(e){return Math.max(0,e-1)}var r=[-2,-1,0,1,2,3],i=r.map(vk);return(e=o.call(this,"Ein Neuron mit Bias!",new f.Network(n,[n[0]],[n[2]]),["Input"],r.map(function(e){return[e]}),["Output"],i.map(function(e){return[e]}),"Kannst du die Parameter des Netzes so einstellen, dass der Output um 1.0 größer ist als der Input? Sollte der Input allerdings kleiner als 1 sein, soll der Output 0 ergeben.")).animatestep=function(){n[2].target=vk(n[0].getActivation())},e.onenter=function(){fj(n[1],"Am Input des mittleren Neurons befindet sich nun ein einstellbarer Bias.")},e}return TutorialLevelC}();n.TutorialLevelC=s;var p=function(){_inherits(WeatherLevel,r.Level);var a=_createSuper(WeatherLevel);function WeatherLevel(){var e;_classCallCheck(this,WeatherLevel);var t=1+Math.random(),n=[new l.InputNode(function(){return.5+.5*Math.sin(t*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new l.InputNode(function(){return 1}),new c.Node,new c.Node,new d.OutputNode];for(var r in[2,3])n[[2,3][r]].bias=2*(Math.random()-.5);n[0].x=200,n[0].y=400,n[1].x=200,n[1].y=600,n[2].x=509,n[2].y=300,n[3].x=500,n[3].y=700,n[4].x=800,n[4].y=500,n[0].addChild(n[2],1),n[0].addChild(n[3],1),n[1].addChild(n[2],1),n[1].addChild(n[3],1),n[2].addChild(n[4],1),n[3].addChild(n[4],1);function Jk(e,t){return 1==t?2.1-.1*e:2.5-1.2*e}var i=new f.Network(n,[n[0],n[1]],[n[4]]),o=[{cloudiness:0,inside:0},{cloudiness:.5,inside:0},{cloudiness:1,inside:0},{cloudiness:1,inside:1},{cloudiness:.5,inside:1},{cloudiness:0,inside:1}];return n[1].format=function(e){return e.toFixed(0)},n[4].format=function(e){return"".concat((10*e).toFixed(0),"°C")},(e=a.call(this,"Einfache Wettervorhersage im Innenraum und draußen!",i,["Bewölkung","Innenraum"],o.map(function(e){return[e.cloudiness,e.inside]}),["Temperatur"],o.map(function(e){return[Jk(e.cloudiness,e.inside)]}),"Draußen (d.h. Innenraum-Wert = 0) hängt die Temperatur davon ab, wie bewölkt es ist: Je bewölkter der Himmel ist, desto niedriger die Temperatur. In Innenräumen (d.h. Innenraum-Wert = 1) ist die Temperatur fast immer 20°C.")).animatestep=function(){n[0].setUserParameter(Math.min(1,Math.max(0,n[0].getActivation()))),n[1].setUserParameter(Math.min(1,Math.max(0,Math.round(n[1].getActivation())))),n[4].target=Jk(n[0].getActivation(),n[1].getActivation())},e.onenter=function(){fj(n[0],"Bewölkung",-u.noderadius-20),fj(n[1],"drinnen/draußen"),fj(n[4],"vorhergesagte Temperatur")},e}return WeatherLevel}();n.WeatherLevel=p;var h=function(){_inherits(FahrenheitLevel,r.Level);var a=_createSuper(FahrenheitLevel);function FahrenheitLevel(){var e;_classCallCheck(this,FahrenheitLevel);var t=1+Math.random(),n=[new l.InputNode(function(){return.5+.5*Math.sin(t*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new c.Node,new d.OutputNode];for(var r in[1])n[[1][r]].bias=1+2*Math.random();n[0].x=200,n[0].y=500,n[0].allownegative=!1,n[1].x=500,n[1].y=550,n[2].x=800,n[2].y=500,n[0].addChild(n[1],1),n[1].addChild(n[2],1),n[1].outedges[0].adjustable=!1;function Wk(e){return 1.8*e+32}var i=[0,10,20,30],o=i.map(Wk);return n[0].format=function(e){return"".concat((10*e).toFixed(0),"°C")},n[1].format=function(e){return"".concat((10*e).toFixed(0))},n[2].format=function(e){return"".concat((10*e).toFixed(0),"°F")},(e=a.call(this,"Wandle Celsius in Fahrenheit um!",new f.Network(n,[n[0]],[n[2]]),["Celsius"],i.map(function(e){return[e/10]}),["Fahrenheit"],o.map(function(e){return[e/10]}),"Ein positiver Temperatur-Wert in Grad Celsius (links, gelber Regler) soll in einen Wert in Grad Fahrenheit umgewandelt werden. Stell die Parameter (blaue und weiße Regler) des Netzes so ein, dass der Output dem Zielwert jeden Inputs entspricht. In der Tabelle unten kannst du die korrekten Werte ablesen.")).animatestep=function(){n[2].target=Wk(10*n[0].getActivation())/10},e}return FahrenheitLevel}();n.FahrenheitLevel=h;var v=function(){_inherits(SumLevel,r.Level);var a=_createSuper(SumLevel);function SumLevel(){var e;_classCallCheck(this,SumLevel);var t=1+Math.random(),n=1+Math.random(),r=[new l.InputNode(function(){return.5+.5*Math.sin(t*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new d.OutputNode];r[2].bias=0,r[0].x=200,r[0].y=300,r[0].allownegative=!0,r[1].x=200,r[1].y=700,r[1].allownegative=!0,r[2].x=800,r[2].y=500,r[0].addChild(r[2],1),r[1].addChild(r[2],-1);var i=[[0,0],[0,1],[2,1],[3,1],[4,2],[0,2]],o=i.map(function(e){return[e[0]+e[1]]});return(e=a.call(this,"Die beiden Input-Werte summieren!",new f.Network(r,[r[0],r[1]],[r[2]]),["Summand 1","Summand 2"],i,["Summe"],o,"Stell die Parameter des Netzes so ein, dass der Output (rechts) die Summe beider Inputs ergibt. Die Voraussagen des Netzes müssen möglichst den Werten der Trainingsdaten entsprechen, die du in der Tabelle unten siehst.")).animatestep=function(){r[2].target=r[0].getActivation()+r[1].getActivation()},e}return SumLevel}();n.SumLevel=v;var y=function(){_inherits(AndLevel,r.Level);var a=_createSuper(AndLevel);function AndLevel(){var e;_classCallCheck(this,AndLevel);Math.random(),Math.random();var t=[new l.InputNode(function(){return 1}),new l.InputNode(function(){return 1}),new c.Node,new d.OutputNode];for(var n in[2])t[[2][n]].bias=2*Math.random();t[0].x=200,t[0].y=350,t[1].x=200,t[1].y=650,t[2].x=500,t[2].y=500,t[3].x=800,t[3].y=500,t[0].addChild(t[2],1),t[1].addChild(t[2],-.2),t[2].addChild(t[3],1);var r=new f.Network(t,[t[0],t[1]],[t[3]]),i=[[0,0],[1,0],[0,1],[1,1]],o=i.map(function(e){return[e[0]*e[1]]});return(e=a.call(this,"Sind beide Inputs auf 1 gestellt?",r,["Bit 1","Bit 2"],i,["AND"],o,"Die Input-Werte des Netzes sind entweder 0 oder 1. Der Output-Wert rechts darf nur 1 sein, wenn beide Input-Werte 1 sind. Anderfalls muss er 0 sein.")).animatestep=function(){t[0].format=function(e){return Math.round(e)},t[1].format=function(e){return Math.round(e)},t[0].setUserParameter(Math.min(1,Math.max(0,Math.round(t[0].getActivation())))),t[1].setUserParameter(Math.min(1,Math.max(0,Math.round(t[1].getActivation())))),t[3].target=t[0].getActivation()*t[1].getActivation()},e}return AndLevel}();n.AndLevel=y;var m=function(){_inherits(MaxLevel,r.Level);var s=_createSuper(MaxLevel);function MaxLevel(){var e;_classCallCheck(this,MaxLevel);var t=1+Math.random(),n=1+Math.random(),r=[new l.InputNode(function(){return 1.5+1*Math.sin(t*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new l.InputNode(function(){return 1+1*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new c.Node,new d.OutputNode];for(var i in[2])r[[2][i]].bias=2*(Math.random()-.5);r[0].x=200,r[0].y=350,r[1].x=200,r[1].y=650,r[2].x=500,r[2].y=400,r[3].x=800,r[3].y=500,r[0].addChild(r[2],1),r[1].addChild(r[2],-.2),r[2].addChild(r[3],1),r[1].addChild(r[3],1);var o=new f.Network(r,[r[0],r[1]],[r[3]]),a=[0,0,0,0,0,0,0].map(function(e){return[Math.random(),Math.random()]}),u=a.map(function(e){return[Math.max(e[0],e[1])]});return(e=s.call(this,"Das Maximum der Input-Werte!",o,["Input 1","Input 2"],a,["Maximum"],u,"Der Output rechts soll dem Maximalwert des Inputs entsprechen. Tipp: max(a, b) = max(0, a-b)+b. Denk daran, dass das mittlere Neuron negative Werte ignoriert.")).animatestep=function(){r[3].target=Math.max(r[0].getActivation(),r[1].getActivation())},e}return MaxLevel}();n.MaxLevel=m;var g=function(){_inherits(XorLevel,r.Level);var a=_createSuper(XorLevel);function XorLevel(){var e;_classCallCheck(this,XorLevel);var t=1+Math.random(),n=1+Math.random(),r=[new l.InputNode(function(){return.5+.5*Math.sin(t*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new c.Node,new c.Node,new c.Node,new d.OutputNode];for(var i in[2,3,4])r[[2,3,4][i]].bias=2*(Math.random()-.5);r[0].x=200,r[0].y=400,r[1].x=200,r[1].y=600,r[2].x=500,r[2].y=300,r[3].x=500,r[3].y=500,r[4].x=500,r[4].y=700,r[5].x=800,r[5].y=500,r[0].addChild(r[2],1),r[0].addChild(r[3],1),r[0].addChild(r[4],1),r[1].addChild(r[2],1),r[1].addChild(r[3],1),r[1].addChild(r[4],1),r[2].addChild(r[5],1),r[3].addChild(r[5],1),r[4].addChild(r[5],1);var o=new f.Network(r,[r[0],r[1]],[r[5]]);return(e=a.call(this,"Berechne das XOR der Input-Werte!",o,["Bit 1","Bit 2"],[[0,0],[1,0],[0,1],[1,1]],["XOR"],[[0],[1],[1],[0]],"Nehmen wir an, dass das Netz nur 0 oder 1 als Input-Werte akzeptiert. Der Output-Wert des Netzes soll 1 sein, wenn nur ein einzelnes Input auf 1 gestellt ist. Andernfalls (wenn also beide Inputs 1 sind) muss der Output 0 sein.")).animatestep=function(){r[0].format=function(e){return Math.round(e)},r[1].format=function(e){return Math.round(e)},r[0].setUserParameter(Math.min(1,Math.max(0,Math.round(r[0].getActivation())))),r[1].setUserParameter(Math.min(1,Math.max(0,Math.round(r[1].getActivation())))),r[5].target=(r[0].getActivation()+r[1].getActivation()|0)%2},e}return XorLevel}();n.XorLevel=g;var b=function(){_inherits(AvgLevel,r.Level);var u=_createSuper(AvgLevel);function AvgLevel(){var e;_classCallCheck(this,AvgLevel);var t=1+Math.random(),n=1+Math.random(),r=(Math.random(),[new l.InputNode(function(){return.5+.5*Math.sin(t*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-e.t0)/1e3)}),new d.OutputNode]);r[0].x=200,r[0].y=300,r[0].allownegative=!0,r[1].x=200,r[1].y=500,r[1].allownegative=!0,r[2].x=200,r[2].y=700,r[2].allownegative=!0,r[3].x=800,r[3].y=500,r[0].addChild(r[3],1),r[1].addChild(r[3],1),r[2].addChild(r[3],1);var i=new f.Network(r,[r[0],r[1],r[2]],[r[3]]),o=[0,0,0,0,0,0,0].map(function(e){return[Math.random(),Math.random(),Math.random()]}),a=o.map(function(e){return[(e[0]+e[1]+e[2])/3]});return(e=u.call(this,"Berechne den Durchschnitt der Input-Werte!",i,["Nummer 1","Nummer 2","Nummer 3"],o,["Durchschnitt"],a,"Es gibt drei Inputs. Kannst du die Gewichte so einstellen, dass der Output der Durchschnitt der Input-Werte ist? Insbesondere für die Werte in der Tabelle unten soll das Netz korrekte Outputs produzieren.")).animatestep=function(){r[3].target=(r[0].getActivation()+r[1].getActivation()+r[2].getActivation())/3},e}return AvgLevel}();n.AvgLevel=b},{"./InputNode.js":3,"./Level.js":4,"./Network.js":6,"./Node.js":8,"./OutputNode.js":9,"./constants.js":10,d3:"d3"}],12:[function(e,t,n){"use strict";new(e("./LevelController.js").LevelController),window.addEventListener("DOMContentLoaded",function(e){document.querySelector("#helpmebutton").onclick=function(){document.querySelector(".helper").classList.add("visible"),document.querySelector(".mission").classList.remove("visible"),document.querySelector("#helpmebutton").classList.add("selected"),document.querySelector("#missionbutton").classList.remove("selected")},document.querySelector("#missionbutton").onclick=function(){document.querySelector(".helper").classList.remove("visible"),document.querySelector(".mission").classList.add("visible"),document.querySelector("#helpmebutton").classList.remove("selected"),document.querySelector("#missionbutton").classList.add("selected")},document.querySelector("#screenoverlay").onclick=function(){document.querySelector(".credits").classList.remove("visible"),document.querySelector("#screenoverlay").classList.remove("visible"),document.querySelector("#creditsbutton").classList.remove("selected")}})},{"./LevelController.js":5}]},{},[12]);
//# sourceMappingURL=bundle.min.js.map
