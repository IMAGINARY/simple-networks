!function r(u,s,c){function o(e,t){if(!s[e]){if(!u[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var a=s[e]={exports:{}};u[e][0].call(a.exports,function(t){return o(u[e][1][t]||t)},a,a.exports,r,u,s,c)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)o(c[t]);return o}({1:[function(t,e,n){"use strict";function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.updateDynamicVariables=function updateDynamicVariables(){r++},n.getCurrentComputeTime=function getCurrentComputeTime(){return r},n.DynamicVariable=void 0;var r=0;var i=function(){function DynamicVariable(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DynamicVariable),this.value=t,this.time=-1}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(DynamicVariable,[{key:"update",value:function update(t){return this.time==r||(this.value=t(),this.time=r),this.value}}]),DynamicVariable}();n.DynamicVariable=i},{}],2:[function(t,e,n){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var u=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(t("d3")),s=t("./constants.js"),r=t("./DynamicVariable.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e){var n=[(1-e)*t[0]+e*t[1],(1-e)*t[1]+e*t[2],(1-e)*t[2]+e*t[3]],r=[(1-e)*n[0]+e*n[1],(1-e)*n[1]+e*n[2]],i=[(1-e)*r[0]+e*r[1]];return[[t[0],n[0],r[0],i[0]],[i[0],r[1],n[2],t[3]]]}function M(t,e){var n=L(t.map(function(t){return t[0]}),e),r=L(t.map(function(t){return t[1]}),e);return[[[n[0][0],r[0][0]],[n[0][1],r[0][1]],[n[0][2],r[0][2]],[n[0][3],r[0][3]]],[[n[1][0],r[1][0]],[n[1][1],r[1][1]],[n[1][2],r[1][2]],[n[1][3],r[1][3]]]]}var i=function(){function Edge(t,e,n){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Edge),this.from=t,this.to=e,this.weight=n,this.dloss=0,this.dweight=new r.DynamicVariable,this.adjustable=!0,this.multvis0=1/3,this.multvis1=2/3}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(Edge,[{key:"bezier",value:function bezier(){var t=this,e=t.from.x+("InputNode"==t.from.constructor.name?s.noderadius:0),n=t.to.x-("OutputNode"==t.to.constructor.name?s.noderadius:0);return[[e,t.from.y],[(e+n)/2,t.from.y],[(e+n)/2,t.to.y-s.unit*t.offset],[n,t.to.y-s.unit*t.offset]]}},{key:"generateActivatedCubicBezierSplines",value:function generateActivatedCubicBezierSplines(){var t=this.bezier(),e=M(t,this.multvis0),n=M(e[1],(this.multvis1-this.multvis0)/(1-this.multvis0));return[e[0],n[0],n[1]]}},{key:"generateActivatedPath",value:function generateActivatedPath(t){var e,n,r,i=t*this.weight,o=_slicedToArray(this.generateActivatedCubicBezierSplines(t),3);e=o[0],n=o[1],r=o[2];var a=u.path();return a.moveTo(e[0][0],e[0][1]-s.unit*t),a.bezierCurveTo(e[1][0],e[1][1]-s.unit*t,e[2][0],e[2][1]-s.unit*t,e[3][0],e[3][1]-s.unit*t),a.bezierCurveTo(n[1][0],n[1][1]-s.unit*t,n[2][0],n[2][1]-s.unit*i,n[3][0],n[3][1]-s.unit*i),a.bezierCurveTo(r[1][0],r[1][1]-s.unit*i,r[2][0],r[2][1]-s.unit*i,r[3][0],r[3][1]-s.unit*i),a}},{key:"generateActivatedPathMiddle",value:function generateActivatedPathMiddle(t){var e=t*this.weight,n=this.generateActivatedCubicBezierSplines(t)[1],r=u.path();return r.moveTo(n[0][0],n[0][1]-s.unit*t),r.bezierCurveTo(n[1][0],n[1][1]-s.unit*t,n[2][0],n[2][1]-s.unit*e,n[3][0],n[3][1]-s.unit*e),r}},{key:"normalizedParameterPosition",value:function normalizedParameterPosition(){return[(this.from.x+this.to.x)/2,this.firstHalfBezier()[3][1]-s.unit*this.weight]}},{key:"parameterPosition",value:function parameterPosition(){var t=this.from.getActivation();Math.abs(t)<s.parameterths&&(t=(this.from.getActivation()<0?-1:1)*s.parameterths);var e=this.generateActivatedCubicBezierSplines(t)[1],n=t*this.weight;return[e[3][0],e[3][1]-s.unit*n]}},{key:"getdWeight",value:function getdWeight(){var t=this;return this.dweight.update(function(){return t.to.active()?t.from.getActivation()*t.to.getdActivation():0})}},{key:"backup",value:function backup(){this.backupWeight=this.weight}},{key:"restore",value:function restore(){this.weight=this.backupWeight}}]),Edge}();n.Edge=i},{"./DynamicVariable.js":1,"./constants.js":10,d3:"d3"}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InputNode=void 0;var r=t("./Node.js"),i=t("./DynamicVariable.js");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,t)}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(InputNode,r.Node);var n=_createSuper(InputNode);function InputNode(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return 0};return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,InputNode),(t=n.call(this)).getActivation=e,t.adjustable=!1,t.allownegative=!0,t}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(InputNode,[{key:"setUserParameter",value:function setUserParameter(t){var e=this;this.hasOwnProperty("userparamter")||(this.getActivation=function(){return e.userparamter}),this.allownegative||(t=Math.max(0,t)),this.userparamter=t,(0,i.updateDynamicVariables)()}},{key:"temporarilyReplaceGetActivation",value:function temporarilyReplaceGetActivation(t){this.getActivationBackup=this.getActivation,this.getActivation=t,(0,i.updateDynamicVariables)()}},{key:"restoreGetActivation",value:function restoreGetActivation(){this.getActivation=this.getActivationBackup,(0,i.updateDynamicVariables)()}},{key:"pauseInput",value:function pauseInput(){this.setUserParameter(this.getActivation())}}]),InputNode}();n.InputNode=o},{"./DynamicVariable.js":1,"./Node.js":8}],4:[function(t,e,n){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.Level=void 0;var a=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(t("d3")),r=t("./NetworkVisualization.js");t("./constants.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function Level(t,e,n,r,i,o,a){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Level),this.title=t||"",this.network=e,this.trainXs=r,this.trainYs=o,this.xlabels=n,this.ylabels=i,this.description=a||"",this.gradientdescentactive=!1,this.network.backup()}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(Level,[{key:"show",value:function show(){var t=this;this.createUI(),this.t0=Date.now();var e=this.nv=new r.NetworkVisualization(this.network,function(){return t.animatecallback()});e.animate(),e.addInteraction(),e.resizeSVG(120),this.onenter&&this.onenter()}},{key:"hide",value:function hide(){this.nv&&this.nv.stop(),this.table&&this.table.html(""),this.onleave&&this.onleave(),a.select("#levelinfo").html("")}},{key:"createUI",value:function createUI(){var t=this;document.querySelector(".helper").classList.remove("visible"),document.querySelector(".mission").classList.add("visible"),document.querySelector("#helpmebutton").classList.remove("selected"),document.querySelector("#missionbutton").classList.add("selected"),a.select("#leveltitle").text(this.title),a.select("#description").text(this.description),this.createTable(),document.querySelector(".reset").onclick=function(){t.network.restore()},document.querySelector(".single-step").onclick=function(){t.gradientdescentactive=!1,t.network.gradientstep(t.trainXs,t.trainYs,.01)},document.querySelector(".pause-resume").onclick=function(){t.gradientdescentactive=!t.gradientdescentactive}}},{key:"createTable",value:function createTable(){var n=this;this.columns=this.xlabels.concat(this.ylabels).concat(this.ylabels.map(function(t){return"predicted "+t})),this.table=a.select("#trainingtable"),this.thead=this.table.append("thead"),this.tbody=this.table.append("tbody"),this.thead.append("tr").selectAll("th").data(this.columns).enter().append("th").style("background-color",function(t,e){return e>=n.xlabels.length?"orange":"yellow"}).text(function(t){return t})}},{key:"animatecallback",value:function animatecallback(){if(this.animatestep&&this.animatestep(),this.gradientdescentactive)for(var t=0;t<10;t++)this.network.gradientstep(this.trainXs,this.trainYs,.001);this.updateUI()}},{key:"updateUI",value:function updateUI(){this.gradientdescentactive&&a.select("#gradientanimating")?(document.querySelector(".pause-resume").classList.add("pause"),document.querySelector(".pause-resume").classList.remove("resume")):(document.querySelector(".pause-resume").classList.remove("pause"),document.querySelector(".pause-resume").classList.add("resume")),this.updatetable();var t=this.network.loss(this.trainXs,this.trainYs);a.select("#totalerror").text(t.toFixed(2)),a.select("#nextbutton").classed("selected",t<.02).classed("successful",t<.02),a.select(".tabbed").classed("successful",t<.02),a.select("#totalerrorterm").text(this.rows.map(function(t){return"(".concat(t[t.length-1]," - ").concat(t[t.length-2],")²")}).join(" + ")),document.querySelector("#showgradient").checked?this.network.gradientLoss(this.trainXs,this.trainYs):this.network.resetdloss()}},{key:"updatetable",value:function updatetable(){var i=this,t=this.tbody,e=[];for(var n in this.rows=e,this.trainXs){var r=this.trainXs[n].map(function(t,e){return i.network.inputnodes[e].format(t)}).concat(this.trainYs[n].map(function(t,e){return i.network.outputnodes[e].format(t)})).concat(this.network.predict(this.trainXs[n]).map(function(t,e){return i.network.outputnodes[e].format(t)}));r.error=this.network.sqerror(this.trainXs[n],this.trainYs[n]),e.push(r)}var o=a.scaleSequential().domain([1,0]).interpolator(a.interpolateRdYlGn);t.selectAll("tr").data(e).join("tr").on("click",function(t,e){for(var n in i.network.inputnodes)i.network.inputnodes[n].setUserParameter(i.trainXs[e][n]);for(var r in i.network.outputnodes)i.network.outputnodes[r].target=i.trainYs[e][r]}).selectAll("td").data(function(e){return e.map(function(t){return{value:t,error:e.error}})}).join("td").text(function(t){return t.value}).style("background-color",function(t,e){return e>=i.trainXs[0].length+i.trainYs[0].length?o(t.error):"white"})}}]),Level}();n.Level=i},{"./NetworkVisualization.js":7,"./constants.js":10,d3:"d3"}],5:[function(t,e,n){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.LevelController=void 0;var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(t("d3")),i=t("./levels.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function LevelController(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LevelController),this.createEvents(),this.levels=[function(){return new i.TutorialLevelA},function(){return new i.SumLevel},function(){return new i.AvgLevel},function(){return new i.TutorialLevelB},function(){return new i.TutorialLevelC},function(){return new i.FahrenheitLevel},function(){return new i.AndLevel},function(){return new i.MaxLevel},function(){return new i.WeatherLevel},function(){return new i.XorLevel}],this.NUMBER_OF_LEVELS=this.levels.length,this.updateFooter(0)}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(LevelController,[{key:"updateFooter",value:function updateFooter(n){r.select("#navcircles").selectAll("a").data(this.levels).join("a").attr("href",function(t,e){return"index.html#".concat(e+1)}).classed("circ",!0).classed("selected",function(t,e){return e==n}),r.select("#backbutton").style("visibility",0==n?"hidden":"visible"),r.select("#nextbutton").style("visibility",n==this.NUMBER_OF_LEVELS-1?"hidden":"visible")}},{key:"createEvents",value:function createEvents(){var e=this;window.addEventListener("DOMContentLoaded",function(t){document.querySelector("#backbutton").onclick=function(){return e.goBack()},document.querySelector("#nextbutton").onclick=function(){return e.goNext()},e.showLevelByURL()}),window.onhashchange=function(t){e.showLevelByURL()},window.addEventListener("keydown",function(t){t.key;switch(t.key){case"ArrowLeft":e.goBack();break;case"ArrowRight":e.goNext()}})}},{key:"goNext",value:function goNext(){this.setLevel((this.getCurrentLevel()+1)%this.NUMBER_OF_LEVELS)}},{key:"goBack",value:function goBack(){this.setLevel((this.getCurrentLevel()-1+this.NUMBER_OF_LEVELS)%this.NUMBER_OF_LEVELS)}},{key:"getCurrentLevel",value:function getCurrentLevel(){var t=window.location.hash.substring(1);return""===t?t=1:t|=0,t-1}},{key:"setLevel",value:function setLevel(t){window.location.hash=t+1}},{key:"showLevelByURL",value:function showLevelByURL(){this.showLevel(this.getCurrentLevel())}},{key:"showLevel",value:function showLevel(t){this.updateFooter(t),this.clevel&&this.clevel.hide(),this.clevel=this.levels[t](),this.clevel.show()}}]),LevelController}();n.LevelController=o},{"./levels.js":11,d3:"d3"}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Network=void 0;var v=t("./DynamicVariable.js");function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function Network(t,e,n){for(var r in!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Network),this.nodes=t,this.inputnodes=e,this.outputnodes=n,this.edges=[],t)for(var i in t[r].outedges)this.edges.push(t[r].outedges[i])}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(Network,[{key:"predict",value:function predict(e){var n=this;this.inputnodes.length!=e.length&&console.error("Input does not fit input size of Network");function qe(t){n.inputnodes[t].temporarilyReplaceGetActivation(function(){return e[t]})}for(var t in this.inputnodes)qe(t);(0,v.updateDynamicVariables)();var r=this.outputnodes.map(function(t){return t.getActivation()});for(var i in this.inputnodes)this.inputnodes[i].restoreGetActivation();return r}},{key:"sqerror",value:function sqerror(t,e){var n=this.predict(t),r=0;for(var i in n)r+=(n[i]-e[i])*(n[i]-e[i]);return r}},{key:"loss",value:function loss(t,e){var n=0;for(var r in t)n+=this.sqerror(t[r],e[r]);return n}},{key:"resetdloss",value:function resetdloss(){for(var t in this.nodes)this.nodes[t].dloss=0;for(var e in this.edges)this.edges[e].dloss=0}},{key:"gradientLoss",value:function gradientLoss(d,f){var h=this,p=0;this.resetdloss();function Le(t){function Qe(t){h.inputnodes[t].temporarilyReplaceGetActivation(function(){return e[t]})}var e=d[t],n=f[t];for(var r in h.inputnodes)Qe(r);(0,v.updateDynamicVariables)();var i=h.outputnodes.map(function(t){return t.getActivation()});for(var o in i)p+=(i[o]-n[o])*(i[o]-n[o]);function Ue(t){h.outputnodes[t].temporarilyReplaceGetdActivation(function(){return 2*(i[t]-n[t])})}for(var a in h.outputnodes)Ue(a);for(var u in(0,v.updateDynamicVariables)(),h.nodes)h.nodes[u].dloss+=h.nodes[u].getdBias();for(var s in h.edges)h.edges[s].dloss+=h.edges[s].getdWeight();for(var c in h.inputnodes)h.inputnodes[c].restoreGetActivation();for(var l in h.outputnodes)h.outputnodes[l].restoreGetdActivation()}for(var t in d)Le(t);return p}},{key:"gradientstep",value:function gradientstep(t,e,n){for(var r in this.gradientLoss(t,e),this.nodes)"Node"==this.nodes[r].constructor.name&&this.nodes[r].adjustable&&(this.nodes[r].bias-=n*this.nodes[r].dloss);for(var i in this.edges)this.edges[i].adjustable&&(this.edges[i].weight-=n*this.edges[i].dloss);(0,v.updateDynamicVariables)()}},{key:"pauseAnimatedInput",value:function pauseAnimatedInput(){for(var t in this.inputnodes){this.inputnodes[t].pauseInput()}}},{key:"backup",value:function backup(){for(var t in this.nodes)this.nodes[t].backup();for(var e in this.edges)this.edges[e].backup()}},{key:"restore",value:function restore(){for(var t in this.nodes)this.nodes[t].restore();for(var e in this.edges)this.edges[e].restore()}}]),Network}();n.Network=r},{"./DynamicVariable.js":1}],7:[function(t,e,n){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkVisualization=void 0;var s=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(t("d3")),c=t("./constants.js"),l=t("./DynamicVariable.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tf(t,e,n){return Math.min(n,Math.max(e,t))}var r=function(){function NetworkVisualization(t,e){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,NetworkVisualization);var n=this.nodes=t.nodes;for(var r in this.network=t,this.inputnodes=t.inputnodes,this.outputnodes=t.outputnodes,this.animatecallback=e,this.edges=[],n)for(var i in n[r].outedges)this.edges.push(n[r].outedges[i]);this.edges=this.edges.sort(function(t,e){return e.from.y-t.from.y}),s.select("svg").append("svg:defs").append("svg:marker").attr("id","triangle").attr("refX",6).attr("refY",6).attr("markerWidth",30).attr("markerHeight",30).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 0 0 12 6 0 12 3 6").style("fill","orange")}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(NetworkVisualization,[{key:"stop",value:function stop(){this.animating=!1}},{key:"animate",value:function animate(){this.animating=!0,this.animateloop()}},{key:"resizeSVG",value:function resizeSVG(t){var e=0<arguments.length&&void 0!==t?t:0,n=document.querySelector("svg"),r=n.getBBox();n.setAttribute("viewBox","".concat(r.x-e," ").concat(r.y-e," ").concat(Math.min(1e3,r.width)+2*e," ").concat(Math.min(1e3,r.height)+2*e))}},{key:"animateloop",value:function animateloop(){var t=this;if(this.animating){this.animatecallback&&this.animatecallback();var e=this.nodes,n=this.inputnodes,r=this.outputnodes,i=this.edges;for(var o in(0,l.updateDynamicVariables)(),e)e[o].offset=e[o].bias;for(var a in i){var u=i[a];u.offset=u.to.offset,u.to.offset+=u.from.getActivation()*u.weight}s.select("#nodes").select(".nodes").selectAll("circle").data(e).join("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",c.noderadius).attr("fill",function(t){return"InputNode"==t.constructor.name?"yellow":"OutputNode"==t.constructor.name?"orange":"black"}).attr("stroke","black").attr("stroke-width",3).attr("fill-opacity",function(t){return"Node"==t.constructor.name?.2:1}),s.select("#parameters").select(".nodes").selectAll("circle").data(e.filter(function(t){return t.adjustable})).join("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y-c.unit*t.bias}).attr("r",15).attr("fill","white").attr("fill-opacity",.5).attr("stroke","black").attr("stroke-width",2).attr("stroke-opacity",.5);s.select("#nodes").select(".gradient").selectAll("path").data(e.filter(function(t){return 0!=t.dloss&&t.adjustable})).join("path").attr("d",function(t){var e=s.path();return e.moveTo(t.x,t.y-c.unit*t.bias),e.lineTo(t.x,t.y-c.unit*(t.bias-tf(.1*t.dloss,-3,3))),e}).attr("marker-end","url(#triangle)").attr("stroke","orange").attr("stroke-width",2).attr("fill","none"),s.select("#edges").select(".gradient").selectAll("path").data(i.filter(function(t){return 0!=t.dloss&&t.adjustable})).join("path").attr("d",function(t){var e=s.path(),n=t.parameterPosition()[0],r=t.parameterPosition()[1];return e.moveTo(n,r),e.lineTo(n,r+c.unit*tf(t.dloss/t.from.getActivation()*.1,-3,3)),e}).attr("marker-end","url(#triangle)").attr("stroke","orange").attr("stroke-width",2).attr("fill","none").style("opacity",function(t){return Math.min(.5,Math.abs(t.from.getActivation()))}),s.select("#parameters").select(".edges").selectAll("circle").data(i.filter(function(t){return t.adjustable})).join("circle").attr("cx",function(t){return t.parameterPosition()[0]}).attr("cy",function(t){return t.parameterPosition()[1]}).attr("r",15).attr("fill",function(t){return 0<t.weight?"blue":"red"}).attr("stroke","black").attr("stroke-width",2).attr("fill-opacity",.5).attr("stroke-opacity",.5),s.select("#input").select(".activations").selectAll("rect").data(n).join("rect").attr("x",function(t){return t.x}).attr("y",function(t){return t.y-Math.max(0,t.getActivation()*c.unit)}).attr("width",c.noderadius).attr("height",function(t){return Math.abs(t.getActivation()*c.unit)}).attr("fill","blue").attr("fill-opacity",.5),s.select("#parameters").select(".input").selectAll("circle").data(n).join("circle").attr("cx",function(t){return t.x+c.noderadius}).attr("cy",function(t){return t.y-c.unit*t.getActivation()}).attr("r",15).attr("fill","yellow").attr("fill-opacity",.6).attr("stroke","black").attr("stroke-width",2).attr("stroke-opacity",.6),s.select("#outputs").select(".flow").selectAll("rect").data(r).join("rect").attr("x",function(t){return t.x-c.noderadius}).attr("y",function(t){return t.y-Math.max(0,t.getActivation()*c.unit)}).attr("width",c.noderadius).attr("height",function(t){return Math.abs(t.getActivation()*c.unit)}).attr("fill","blue").attr("fill-opacity",.5),s.select("#nodes").select(".target").selectAll("text").data(r.filter(function(t){return"number"==typeof t.target})).join("text").attr("font-size",40).attr("text-anchor","left").attr("pointer-events","none").text(function(t){return"target: "+t.format(t.target)}).attr("x",function(t){return t.x-c.noderadius}).attr("y",function(t){return t.y-c.unit*t.target}).attr("opacity",1).attr("fill",function(t){return t.errorcolor()}),s.select("#nodes").select(".target").selectAll("path").data(r.filter(function(t){return"number"==typeof t.target})).join("path").attr("d",function(t){var e=s.path();return e.moveTo(t.x-10-c.noderadius,t.y-c.unit*t.target),e.lineTo(t.x+c.noderadius,t.y-c.unit*t.target),e}).attr("stroke",function(t){return t.errorcolor()}).attr("stroke-width",4).attr("fill","none"),s.select("#nodes").select(".values").selectAll("text").data(this.network.nodes).join("text").attr("font-size",40).attr("text-anchor","middle").attr("alignment-baseline","hanging").attr("pointer-events","none").text(function(t){return t.format(t.getActivation())}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y-tf(c.unit*t.getActivation(),-30,70)}),s.select("#edges").select(".edges").selectAll("path").data(i).join("path").attr("d",function(t){var e=s.path(),n=t.bezier();return t.from.bias<=0||"InputNode"==t.from.constructor.name?e.moveTo(n[0][0],n[0][1]):(e.moveTo(n[0][0],n[0][1]-c.unit*t.from.bias),e.lineTo(n[0][0],n[0][1])),e.bezierCurveTo(n[1][0],n[1][1],n[2][0],n[2][1],n[3][0],n[3][1]),t.offset<0&&e.lineTo(n[3][0],n[3][1]+c.unit*t.offset),e}).attr("stroke","black").attr("stroke-width",2).attr("fill","none"),s.select("#edges").select(".activations").selectAll("path").data(i).join("path").attr("d",function(t){var e=t.generateActivatedPath(t.from.getActivation()),n=t.bezier();return e.lineTo(n[3][0],n[3][1]),e.bezierCurveTo(n[2][0],n[2][1],n[1][0],n[1][1],n[0][0],n[0][1]),e.closePath(),e}).attr("fill",function(t){return 0<=t.weight?"blue":"red"}).attr("fill-opacity",.5);s.select("#edges").select(".factorlines").selectAll("g").data(i.filter(function(t){return t.adjustable})).join("g").selectAll("path").data(function(t){return Array(Math.abs(t.from.getActivation())>c.parameterths?0:1).fill(t)}).join("path").attr("d",function(t,e){return t.generateActivatedPathMiddle(c.parameterths*(t.from.getActivation()<0?-1:1)*(e+1)/1)}).attr("stroke",function(t){return 0<=t.weight?"blue":"red"}).attr("stroke-width",2).attr("stroke-opacity",.5).attr("fill","none"),requestAnimationFrame(function(){return t.animateloop()})}}},{key:"addInteraction",value:function addInteraction(){this.nodes;var n,r=this,t=s.drag().on("start",function(){s.select(this);this.y0=s.event.y;var t=s.select(this).data()[0];t.adjustable&&(this.v0=t.bias,r.network.pauseAnimatedInput(),n=s.select("#tooltip").append("text")),"InputNode"==t.constructor.name&&(this.v0=t.getActivation(),t.setUserParameter(this.v0))}).on("drag",function(){var t=s.select(this).data()[0];if(t.adjustable&&(t.bias=tf(this.v0-(s.event.y-this.y0)/c.unit,-4,4),n.attr("x",t.x).attr("y",t.y-c.unit*t.bias).text("+ ".concat(t.format(t.bias)))),"InputNode"==t.constructor.name)for(var e in t.setUserParameter(tf(this.v0-(s.event.y-this.y0)/c.unit,-4,4)),r.network.outputnodes)delete r.network.outputnodes[e].target}).on("end",function(){n&&n.remove()});t(s.select("#nodes").selectAll("circle")),t(s.select("#parameters").select(".input").selectAll("circle")),t(s.select("#parameters").select(".nodes").selectAll("circle")),t(s.select("#input").selectAll("rect"));var e=s.drag().on("start",function(){var t=s.select(this).data()[0];if(t.adjustable){s.select(this);this.y0=s.event.y,this.weight0=t.weight,r.network.pauseAnimatedInput(),n=s.select("#tooltip").append("text")}}).on("drag",function(){var t=s.select(this).data()[0];if(t.adjustable){var e=t.from.getActivation();Math.abs(e)<c.parameterths&&(e=(t.from.getActivation()<0?-1:1)*c.parameterths),t.weight=tf(this.weight0-(s.event.y-this.y0)/e/c.unit,-4,4),n.attr("x",t.parameterPosition()[0]).attr("y",t.parameterPosition()[1]).text("× ".concat(t.weight.toFixed(2)))}}).on("end",function(){n&&n.remove()});e(s.select("#edges").selectAll("path, circle")),e(s.select("#parameters").select(".edges").selectAll("circle"))}}]),NetworkVisualization}();n.NetworkVisualization=r},{"./DynamicVariable.js":1,"./constants.js":10,d3:"d3"}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var o=t("./Edge.js"),r=t("./DynamicVariable.js");function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function Node(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Node),this.dactivation=new r.DynamicVariable(0),this.sum=new r.DynamicVariable(0),this.bias=0,this.dloss=0,this.outedges=[],this.inedges=[],this.adjustable=!0}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(Node,[{key:"addChild",value:function addChild(t,e,n){var r=!(2<arguments.length&&void 0!==n)||n,i=new o.Edge(this,t,e);this.outedges.push(i),r&&t.inedges.push(i)}},{key:"computeSum",value:function computeSum(){var r=this;return this.sum.update(function(){var t=r.bias;for(var e in r.inedges){var n=r.inedges[e];t+=n.weight*n.from.getActivation()}return t})}},{key:"getActivation",value:function getActivation(){return Math.max(0,this.computeSum())}},{key:"active",value:function active(){return 0<=this.computeSum()}},{key:"getdActivation",value:function getdActivation(){var r=this;return this.dactivation.update(function(){var t=0;for(var e in r.outedges){var n=r.outedges[e];n.to.active()&&(t+=n.weight*n.to.getdActivation())}return t})}},{key:"getdBias",value:function getdBias(){return this.active()?this.getdActivation():0}},{key:"format",value:function format(t){return t.toFixed(1)}},{key:"backup",value:function backup(){this.backupBias=this.bias}},{key:"restore",value:function restore(){this.bias=this.backupBias}}]),Node}();n.Node=i},{"./DynamicVariable.js":1,"./Edge.js":2}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OutputNode=void 0;var r=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(t("d3")),i=t("./Node.js"),o=t("./DynamicVariable.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,t)}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(OutputNode,i.Node);var e=_createSuper(OutputNode);function OutputNode(){var t;return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,OutputNode),(t=e.call(this)).bias=0,t.adjustable=!1,t}return function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(OutputNode,[{key:"getActivation",value:function getActivation(){return this.computeSum()}},{key:"getdActivation",value:function getdActivation(){return 1}},{key:"active",value:function active(){return!0}},{key:"temporarilyReplaceGetdActivation",value:function temporarilyReplaceGetdActivation(t){this.getdActivationBackup=this.getdActivation,this.getdActivation=t,(0,o.updateDynamicVariables)()}},{key:"restoreGetdActivation",value:function restoreGetdActivation(){this.getdActivation=this.getdActivationBackup,(0,o.updateDynamicVariables)()}},{key:"errorcolor",value:function errorcolor(){return r.scaleSequential().domain([1,0]).interpolator(r.interpolateRdYlGn)(Math.abs(this.target-this.getActivation()))}}]),OutputNode}();n.OutputNode=a},{"./DynamicVariable.js":1,"./Node.js":8,d3:"d3"}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noderadius=n.parameterths=n.unit=void 0;n.unit=35;n.parameterths=.3;n.noderadius=80},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AvgLevel=n.XorLevel=n.MaxLevel=n.AndLevel=n.SumLevel=n.FahrenheitLevel=n.WeatherLevel=n.TutorialLevelC=n.TutorialLevelB=n.TutorialLevelA=void 0;var a=function _interopRequireWildcard(t){if(t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var e=_getRequireWildcardCache();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(t("d3")),c=t("./Node.js"),l=t("./InputNode.js"),d=t("./OutputNode.js"),f=t("./Network.js"),r=t("./Level.js"),u=t("./constants.js");function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return t},t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var i=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);if(i){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,t)}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fj(t,e,n){var r=2<arguments.length&&void 0!==n?n:u.noderadius+30;a.select("#levelinfo").append("text").text(e).attr("pointer-events","none").attr("text-anchor","middle").attr("font-size",20).attr("x",t.x).attr("y",t.y+r)}var i=function(){_inherits(TutorialLevelA,r.Level);var o=_createSuper(TutorialLevelA);function TutorialLevelA(){var t;_classCallCheck(this,TutorialLevelA);var e=1+Math.random(),n=[new l.InputNode(function(){return.5+.5*Math.sin(e*Date.now()/1e3)*Math.exp(-.1*(Date.now()-t.t0)/1e3)}),new d.OutputNode];n[0].x=200,n[0].y=500,n[0].allownegative=!0,n[1].x=800,n[1].y=550,n[0].addChild(n[1],1);function _j(t){return 2*t}var r=[1,2,3],i=r.map(_j);return(t=o.call(this,"A simple Network: Double its input!",new f.Network(n,[n[0]],[n[1]]),["input"],r.map(function(t){return[t]}),["desired output"],i.map(function(t){return[t]}),"This is a minimalistic neural Network. Can you adjust the network such that it doubles the input?")).animatestep=function(){n[1].target=_j(n[0].getActivation())},t.onenter=function(){fj(n[0],"You can adjust the input of the network."),fj(n[1],"The output of the neural network."),a.select("#levelinfo").append("text").text("Adjust the multiplication factor along the connection.").attr("pointer-events","none").attr("text-anchor","middle").attr("font-size",20).attr("x",(n[0].x+n[1].x)/2).attr("y",(n[0].y+n[1].y)/2-100),document.querySelector(".trainingdata").classList.remove("visible")},t.onleave=function(){document.querySelector(".trainingdata").classList.add("visible")},t}return TutorialLevelA}();n.TutorialLevelA=i;var o=function(){_inherits(TutorialLevelB,r.Level);var o=_createSuper(TutorialLevelB);function TutorialLevelB(){var t;_classCallCheck(this,TutorialLevelB);var e=1+Math.random(),n=[new l.InputNode(function(){return.5+2*Math.sin(e*Date.now()/1e3)*Math.exp(-.1*(Date.now()-t.t0)/1e3)}),new c.Node,new d.OutputNode];n[0].allownegative=!0,n[0].x=200,n[0].y=500,n[1].x=500,n[1].y=550,n[1].adjustable=!1,n[2].x=800,n[2].y=500,n[0].addChild(n[1],-2),n[1].addChild(n[2],1),n[1].outedges[0].adjustable=!1;function kk(t){return Math.max(0,1*t)}var r=[-2,-1,0,1,2,3],i=r.map(kk);return(t=o.call(this,"Propagate only positive values!",new f.Network(n,[n[0]],[n[2]]),["input"],r.map(function(t){return[t]}),["output"],i.map(function(t){return[t]}),"Can you modify this network such that it outputs its positive input or zero if the input was negative? It should predict the data of the training table below.")).animatestep=function(){n[2].target=kk(n[0].getActivation())},t.onenter=function(){fj(n[1],"Internal nodes ignore negative inputs.")},t}return TutorialLevelB}();n.TutorialLevelB=o;var s=function(){_inherits(TutorialLevelC,r.Level);var o=_createSuper(TutorialLevelC);function TutorialLevelC(){var t;_classCallCheck(this,TutorialLevelC);var e=1+Math.random(),n=[new l.InputNode(function(){return 1*Math.sin(e*Date.now()/1e3)*Math.exp(-.1*(Date.now()-t.t0)/1e3)-.2}),new c.Node,new d.OutputNode];n[0].allownegative=!0,n[0].x=200,n[0].y=500,n[1].x=500,n[1].y=550,n[1].adjustable=!0,n[2].x=800,n[2].y=500,n[0].addChild(n[1],1),n[1].addChild(n[2],1),n[0].outedges[0].adjustable=!1,n[1].outedges[0].adjustable=!1,n[1].bias=1;function vk(t){return Math.max(0,t-1)}var r=[-2,-1,0,1,2,3],i=r.map(vk);return(t=o.call(this,"Internal nodes with bias",new f.Network(n,[n[0]],[n[2]]),["input"],r.map(function(t){return[t]}),["output"],i.map(function(t){return[t]}),"Can you modify the parameter of this network such that it outputs by how much the input is greater than 1. If the input is smaller than 1 it should output zero.")).animatestep=function(){n[2].target=vk(n[0].getActivation())},t.onenter=function(){fj(n[1],"An adjustable bias is added to the input of an internal node.")},t}return TutorialLevelC}();n.TutorialLevelC=s;var h=function(){_inherits(WeatherLevel,r.Level);var a=_createSuper(WeatherLevel);function WeatherLevel(){var t;_classCallCheck(this,WeatherLevel);var e=1+Math.random(),n=[new l.InputNode(function(){return.5+.5*Math.sin(e*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new l.InputNode(function(){return 1}),new c.Node,new c.Node,new d.OutputNode];for(var r in[2,3])n[[2,3][r]].bias=2*(Math.random()-.5);n[0].x=200,n[0].y=400,n[1].x=200,n[1].y=600,n[2].x=509,n[2].y=300,n[3].x=500,n[3].y=700,n[4].x=800,n[4].y=500,n[0].addChild(n[2],1),n[0].addChild(n[3],1),n[1].addChild(n[2],1),n[1].addChild(n[3],1),n[2].addChild(n[4],1),n[3].addChild(n[4],1);function Jk(t,e){return 1==e?2.1-.1*t:2.5-1.2*t}var i=new f.Network(n,[n[0],n[1]],[n[4]]),o=[{cloudiness:0,inside:0},{cloudiness:.5,inside:0},{cloudiness:1,inside:0},{cloudiness:1,inside:1},{cloudiness:.5,inside:1},{cloudiness:0,inside:1}];return n[1].format=function(t){return t.toFixed(0)},n[4].format=function(t){return"".concat((10*t).toFixed(0),"°C")},(t=a.call(this,"Can you predict the temperature given the cloudiness and the fact of being inside?",i,["cloudiness","inside?"],o.map(function(t){return[t.cloudiness,t.inside]}),["temperature"],o.map(function(t){return[Jk(t.cloudiness,t.inside)]}),"Outside (insideness = 0), the temperature depends on the amount of clouds: The higher the cloudiness, the lower the temperature. Inside (insideness = 1), the temperature is almost constant 20°C.")).animatestep=function(){n[0].setUserParameter(Math.min(1,Math.max(0,n[0].getActivation()))),n[1].setUserParameter(Math.min(1,Math.max(0,Math.round(n[1].getActivation())))),n[4].target=Jk(n[0].getActivation(),n[1].getActivation())},t.onenter=function(){fj(n[0],"amount of clouds",-u.noderadius-20),fj(n[1],"inside/outside"),fj(n[4],"predicted temperature")},t}return WeatherLevel}();n.WeatherLevel=h;var p=function(){_inherits(FahrenheitLevel,r.Level);var a=_createSuper(FahrenheitLevel);function FahrenheitLevel(){var t;_classCallCheck(this,FahrenheitLevel);var e=1+Math.random(),n=[new l.InputNode(function(){return.5+.5*Math.sin(e*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new c.Node,new d.OutputNode];for(var r in[1])n[[1][r]].bias=1+2*Math.random();n[0].x=200,n[0].y=500,n[0].allownegative=!1,n[1].x=500,n[1].y=550,n[2].x=800,n[2].y=500,n[0].addChild(n[1],1),n[1].addChild(n[2],1),n[1].outedges[0].adjustable=!1;function Wk(t){return 1.8*t+32}var i=[0,10,20,30],o=i.map(Wk);return n[0].format=function(t){return"".concat((10*t).toFixed(0),"°C")},n[1].format=function(t){return"".concat((10*t).toFixed(0))},n[2].format=function(t){return"".concat((10*t).toFixed(0),"°F")},(t=a.call(this,"Convert Celsius to Fahrenheit.",new f.Network(n,[n[0]],[n[2]]),["Celsius"],i.map(function(t){return[t/10]}),["Fahrenheit"],o.map(function(t){return[t/10]}),"Given a positive temperature in Celsius (left, yellow slider), the temperature in Fahrenheit is to be computed (output of the network on the right side). Adjust the parameters (blue and white sliders) of the network such that it computes the target value for each input. All values of the table below should be obtained.")).animatestep=function(){n[2].target=Wk(10*n[0].getActivation())/10},t}return FahrenheitLevel}();n.FahrenheitLevel=p;var v=function(){_inherits(SumLevel,r.Level);var a=_createSuper(SumLevel);function SumLevel(){var t;_classCallCheck(this,SumLevel);var e=1+Math.random(),n=1+Math.random(),r=[new l.InputNode(function(){return.5+.5*Math.sin(e*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new d.OutputNode];r[2].bias=0,r[0].x=200,r[0].y=300,r[0].allownegative=!0,r[1].x=200,r[1].y=700,r[1].allownegative=!0,r[2].x=800,r[2].y=500,r[0].addChild(r[2],1),r[1].addChild(r[2],-1);var i=[[0,0],[0,1],[2,1],[3,1],[4,2],[0,2]],o=i.map(function(t){return[t[0]+t[1]]});return(t=a.call(this,"The sum of the input activations.",new f.Network(r,[r[0],r[1]],[r[2]]),["summand 1","summand 2"],i,["sum"],o,"Adjust the parameters of the network such that the output on the right equals the sum of the two inputs. The predictions of the network should be correct for all the values in the training table below.")).animatestep=function(){r[2].target=r[0].getActivation()+r[1].getActivation()},t}return SumLevel}();n.SumLevel=v;var y=function(){_inherits(AndLevel,r.Level);var a=_createSuper(AndLevel);function AndLevel(){var t;_classCallCheck(this,AndLevel);Math.random(),Math.random();var e=[new l.InputNode(function(){return 1}),new l.InputNode(function(){return 1}),new c.Node,new d.OutputNode];for(var n in[2])e[[2][n]].bias=2*Math.random();e[0].x=200,e[0].y=350,e[1].x=200,e[1].y=650,e[2].x=500,e[2].y=500,e[3].x=800,e[3].y=500,e[0].addChild(e[2],1),e[1].addChild(e[2],-.2),e[2].addChild(e[3],1);var r=new f.Network(e,[e[0],e[1]],[e[3]]),i=[[0,0],[1,0],[0,1],[1,1]],o=i.map(function(t){return[t[0]*t[1]]});return(t=a.call(this,"Are both inputs set to 1?",r,["bit 1","bit 2"],i,["AND"],o,"The inputs of this network are either 0 or 1. The output on the right should be 1 only if both inputs are 1. Otherwise, it should be 0.")).animatestep=function(){e[0].format=function(t){return Math.round(t)},e[1].format=function(t){return Math.round(t)},e[0].setUserParameter(Math.min(1,Math.max(0,Math.round(e[0].getActivation())))),e[1].setUserParameter(Math.min(1,Math.max(0,Math.round(e[1].getActivation())))),e[3].target=e[0].getActivation()*e[1].getActivation()},t}return AndLevel}();n.AndLevel=y;var m=function(){_inherits(MaxLevel,r.Level);var s=_createSuper(MaxLevel);function MaxLevel(){var t;_classCallCheck(this,MaxLevel);var e=1+Math.random(),n=1+Math.random(),r=[new l.InputNode(function(){return 1.5+1*Math.sin(e*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new l.InputNode(function(){return 1+1*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new c.Node,new d.OutputNode];for(var i in[2])r[[2][i]].bias=2*(Math.random()-.5);r[0].x=200,r[0].y=350,r[1].x=200,r[1].y=650,r[2].x=500,r[2].y=400,r[3].x=800,r[3].y=500,r[0].addChild(r[2],1),r[1].addChild(r[2],-.2),r[2].addChild(r[3],1),r[1].addChild(r[3],1);var o=new f.Network(r,[r[0],r[1]],[r[3]]),a=[0,0,0,0,0,0,0].map(function(t){return[Math.random(),Math.random()]}),u=a.map(function(t){return[Math.max(t[0],t[1])]});return(t=s.call(this,"Compute the maximum of the input activations.",o,["input 1","input 2"],a,["maximum"],u,"The output on the right should be the maximum of the input. Hint: max(a, b) = max(0, a-b) + b. Remember that the internal node ignores its input if it is negative.")).animatestep=function(){r[3].target=Math.max(r[0].getActivation(),r[1].getActivation())},t}return MaxLevel}();n.MaxLevel=m;var b=function(){_inherits(XorLevel,r.Level);var a=_createSuper(XorLevel);function XorLevel(){var t;_classCallCheck(this,XorLevel);var e=1+Math.random(),n=1+Math.random(),r=[new l.InputNode(function(){return.5+.5*Math.sin(e*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new c.Node,new c.Node,new c.Node,new d.OutputNode];for(var i in[2,3,4])r[[2,3,4][i]].bias=2*(Math.random()-.5);r[0].x=200,r[0].y=400,r[1].x=200,r[1].y=600,r[2].x=500,r[2].y=300,r[3].x=500,r[3].y=500,r[4].x=500,r[4].y=700,r[5].x=800,r[5].y=500,r[0].addChild(r[2],1),r[0].addChild(r[3],1),r[0].addChild(r[4],1),r[1].addChild(r[2],1),r[1].addChild(r[3],1),r[1].addChild(r[4],1),r[2].addChild(r[5],1),r[3].addChild(r[5],1),r[4].addChild(r[5],1);var o=new f.Network(r,[r[0],r[1]],[r[5]]);return(t=a.call(this,"Compute the XOR of the input bits.",o,["bit 1","bit 2"],[[0,0],[1,0],[0,1],[1,1]],["XOR"],[[0],[1],[1],[0]],"Assume that the network only takes 0 and 1 as input. The output of the network should be 1 if exactly one input is set to 1. Otherwise (both inputs equal) the output should be 0.")).animatestep=function(){r[0].format=function(t){return Math.round(t)},r[1].format=function(t){return Math.round(t)},r[0].setUserParameter(Math.min(1,Math.max(0,Math.round(r[0].getActivation())))),r[1].setUserParameter(Math.min(1,Math.max(0,Math.round(r[1].getActivation())))),r[5].target=(r[0].getActivation()+r[1].getActivation()|0)%2},t}return XorLevel}();n.XorLevel=b;var g=function(){_inherits(AvgLevel,r.Level);var u=_createSuper(AvgLevel);function AvgLevel(){var t;_classCallCheck(this,AvgLevel);var e=1+Math.random(),n=1+Math.random(),r=(Math.random(),[new l.InputNode(function(){return.5+.5*Math.sin(e*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new l.InputNode(function(){return.5+.5*Math.sin(n*Date.now()/1e3)*Math.exp(-.3*(Date.now()-t.t0)/1e3)}),new d.OutputNode]);r[0].x=200,r[0].y=300,r[0].allownegative=!0,r[1].x=200,r[1].y=500,r[1].allownegative=!0,r[2].x=200,r[2].y=700,r[2].allownegative=!0,r[3].x=800,r[3].y=500,r[0].addChild(r[3],1),r[1].addChild(r[3],1),r[2].addChild(r[3],1);var i=new f.Network(r,[r[0],r[1],r[2]],[r[3]]),o=[0,0,0,0,0,0,0].map(function(t){return[Math.random(),Math.random(),Math.random()]}),a=o.map(function(t){return[(t[0]+t[1]+t[2])/3]});return(t=u.call(this,"The average of the input values.",i,["number 1","number 2","number 3"],o,["average"],a,"Given three inputs, can you adjust the weights such that the output always equals to the average of the input activations? In particular, the network should produce correct outputs for all values in the table below.")).animatestep=function(){r[3].target=(r[0].getActivation()+r[1].getActivation()+r[2].getActivation())/3},t}return AvgLevel}();n.AvgLevel=g},{"./InputNode.js":3,"./Level.js":4,"./Network.js":6,"./Node.js":8,"./OutputNode.js":9,"./constants.js":10,d3:"d3"}],12:[function(t,e,n){"use strict";new(t("./LevelController.js").LevelController),window.addEventListener("DOMContentLoaded",function(t){document.querySelector("#helpmebutton").onclick=function(){document.querySelector(".helper").classList.add("visible"),document.querySelector(".mission").classList.remove("visible"),document.querySelector("#helpmebutton").classList.add("selected"),document.querySelector("#missionbutton").classList.remove("selected")},document.querySelector("#missionbutton").onclick=function(){document.querySelector(".helper").classList.remove("visible"),document.querySelector(".mission").classList.add("visible"),document.querySelector("#helpmebutton").classList.remove("selected"),document.querySelector("#missionbutton").classList.add("selected")},document.querySelector("#screenoverlay").onclick=function(){document.querySelector(".credits").classList.remove("visible"),document.querySelector("#screenoverlay").classList.remove("visible"),document.querySelector("#creditsbutton").classList.remove("selected")}})},{"./LevelController.js":5}]},{},[12]);
//# sourceMappingURL=bundle.min.js.map
